IssueComment {issueCommentUpdatedAt = GithubDate {fromGithubDate = 2013-04-10 12:46:25 UTC}, issueCommentUser = GithubUser {githubOwnerAvatarUrl = "https://secure.gravatar.com/avatar/6a424256589825f609fd3477144355a0?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png", githubOwnerLogin = "yarikoptic", githubOwnerUrl = "https://api.github.com/users/yarikoptic", githubOwnerId = 39889, githubOwnerGravatarId = "6a424256589825f609fd3477144355a0"}, issueCommentUrl = "https://api.github.com/repos/fail2ban/fail2ban/issues/comments/16171759", issueCommentCreatedAt = GithubDate {fromGithubDate = 2013-04-10 12:46:25 UTC}, issueCommentBody = "\nOn Wed, 10 Apr 2013, Steven Hiscocks wrote:\n\n>    [2]@yarikoptic I'd agree with the gut feeling, but I wonder why all these\n>    other daemons don't just create their own directories? The only thing I\n>    can think of is daemons which are executed with as non-root user and\n>    therefore need the init scripts to create directories for them (which\n>    isn't applicable with fail2ban currently).\n\nit  is already somewhat applicable (with iptables-xt_recent-echo.conf) that\nis why in Debian we already provided needed mechanisms, including init\nscript logic:\n\n```\n    # Assure that /var/run/fail2ban exists\n    [ -d /var/run/fail2ban ] || mkdir -p /var/run/fail2ban\n\n    if [ \"$FAIL2BAN_USER\" != \"root\" ]; then\n        # Make the socket directory, IP lists and fail2ban log\n        # files writable by fail2ban\n        chown \"$FAIL2BAN_USER\" /var/run/fail2ban\n        # Create the logfile if it doesn't exist\n        touch /var/log/fail2ban.log\n        chown \"$FAIL2BAN_USER\" /var/log/fail2ban.log\n        find /proc/net/xt_recent -name 'fail2ban-*' -exec chown \"$FAIL2BAN_USER\" {} \\;\n    fi\n\n```\n\nand indeed in this case, /var/run/fail2ban would need first to be created by\nthe root user and given the unprivileged user ownership over this directory.\nBut indeed -- how common that usecase is?\n\n-- \nYaroslav O. Halchenko\nhttp://neuro.debian.net http://www.pymvpa.org http://www.fail2ban.org\nSenior Research Associate,     Psychological and Brain Sciences Dept.\nDartmouth College, 419 Moore Hall, Hinman Box 6207, Hanover, NH 03755\nPhone: +1 (603) 646-9834                       Fax: +1 (603) 646-1419\nWWW:   http://www.linkedin.com/in/yarik", issueCommentId = 16171759}