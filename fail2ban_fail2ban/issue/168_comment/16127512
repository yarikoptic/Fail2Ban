IssueComment {issueCommentUpdatedAt = GithubDate {fromGithubDate = 2013-04-09 17:30:22 UTC}, issueCommentUser = GithubUser {githubOwnerAvatarUrl = "https://secure.gravatar.com/avatar/6a424256589825f609fd3477144355a0?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png", githubOwnerLogin = "yarikoptic", githubOwnerUrl = "https://api.github.com/users/yarikoptic", githubOwnerId = 39889, githubOwnerGravatarId = "6a424256589825f609fd3477144355a0"}, issueCommentUrl = "https://api.github.com/repos/fail2ban/fail2ban/issues/comments/16127512", issueCommentCreatedAt = GithubDate {fromGithubDate = 2013-04-09 17:30:22 UTC}, issueCommentBody = ">    Using systemd on a openSuse 12.2 system, it seems fail2ban cannot start if\n>    there is no fail2ban folder in /var/run.\n\nwell -- ATM fail2ban is started by the init script... e.g. I have\nthat in Debian package and\n\n$> grep mkdir *-initd\ngentoo-initd:       mkdir /var/run/fail2ban || return 1\n\nbut apparently not in the others... indeed, instead of duplicating, we might\njust mkdir it right by the client -- atm I do not see any cons- of doing that\n(e.g. permissions restrictions).  Would you like to prepare the pull\nrequest?\n\n\n>  # Create socket folder if it doesn't exist\n>  try:\n>          os.mkdir(os.path.dirname(self.__conf[\"socket\"]))\n>  except OSError:\n>          logSys.info(\"Socket folder already exists\")\n\nre your changes: I do not think it is needed to inform if directory exists.\n\nThat exception could also catch errors if directory is not allowed to be\ncreated (run client as a user with insufficient permissions to create the\ndirectory), so the best would be to just log the details of exception, and\nreturn False there.  Also place this under already existing\n\n```\nif not os.path.exists(socket_dir):\n```\n\nand the best would be to have a unit-test ;-)\n\n\n-- \nYaroslav O. Halchenko\nhttp://neuro.debian.net http://www.pymvpa.org http://www.fail2ban.org\nSenior Research Associate,     Psychological and Brain Sciences Dept.\nDartmouth College, 419 Moore Hall, Hinman Box 6207, Hanover, NH 03755\nPhone: +1 (603) 646-9834                       Fax: +1 (603) 646-1419\nWWW:   http://www.linkedin.com/in/yarik", issueCommentId = 16127512}